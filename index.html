<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <title>Mobile Objex App</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif; -webkit-tap-highlight-color: transparent; }
        
        :root {
            --gold: #FFD700;
            --gold-light: #FFED4E;
            --black: #000000;
            --surface: #1C1C1E;
            --surface-elevated: #2C2C2E;
            --text: #FFFFFF;
            --text-secondary: rgba(255,255,255,0.6);
            --success: #30D158;
            --danger: #FF453A;
            --warning: #FF9F0A;
            --info: #0A84FF;
        }
        
        /* Mobile App Container */
        .app-container {
            max-width: 100%;
            min-height: 100vh;
            background: var(--black);
            color: var(--text);
            position: relative;
            overflow-x: hidden;
        }
        
        /* Safe areas for notches */
        .safe-top { padding-top: env(safe-area-inset-top); }
        .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
        
        /* Views */
        .view {
            display: none;
            min-height: 100vh;
            padding-bottom: 100px; /* Space for bottom nav */
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .view.active { display: block; animation: fadeIn 0.3s; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Header */
        .app-header {
            position: sticky;
            top: 0;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            border-bottom: 0.5px solid rgba(255,255,255,0.1);
        }
        
        .brand { display: flex; align-items: center; gap: 8px; font-weight: 700; font-size: 20px; }
        .brand span { color: var(--gold); }
        
        .live-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(48,209,88,0.15);
            color: var(--success);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }
        
        .pulse-dot {
            width: 6px; height: 6px; background: var(--success); border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }
        
        /* Hero Card */
        .hero-card {
            margin: 16px;
            background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(255,215,0,0.05));
            border: 1px solid rgba(255,215,0,0.2);
            border-radius: 24px;
            padding: 28px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .score-circle {
            width: 130px; height: 130px; margin: 0 auto 20px;
            position: relative;
        }
        
        .score-bg {
            width: 100%; height: 100%; border-radius: 50%;
            background: conic-gradient(var(--gold) 0% 98%, rgba(255,255,255,0.1) 0%);
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 30px rgba(255,215,0,0.3);
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        .score-inner {
            width: 110px; height: 110px; background: var(--black); border-radius: 50%;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            animation: none;
        }
        
        .score-num { font-size: 44px; font-weight: 800; color: var(--gold); line-height: 1; }
        .score-label { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }
        
        .hero-title { font-size: 24px; font-weight: 700; margin-bottom: 6px; }
        .hero-sub { color: var(--text-secondary); font-size: 15px; }
        
        /* Quick Stats Row */
        .stats-scroll {
            display: flex; gap: 12px; overflow-x: auto; padding: 0 16px 16px;
            scrollbar-width: none; -ms-overflow-style: none;
        }
        
        .stats-scroll::-webkit-scrollbar { display: none; }
        
        .stat-pill {
            background: var(--surface); border-radius: 16px; padding: 16px 20px;
            min-width: 100px; text-align: center; border: 1px solid rgba(255,255,255,0.05);
            flex-shrink: 0;
        }
        
        .stat-value { font-size: 22px; font-weight: 800; color: var(--gold); margin-bottom: 4px; }
        .stat-label { font-size: 11px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* Feature Grid - Large Touch Targets */
        .feature-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; padding: 0 16px; margin-bottom: 24px;
        }
        
        .feature-card {
            background: var(--surface); border-radius: 20px; padding: 24px 20px;
            border: 1px solid rgba(255,255,255,0.05); position: relative;
            display: flex; flex-direction: column; align-items: center; text-align: center;
            min-height: 140px; justify-content: center;
            transition: transform 0.2s, background 0.2s;
        }
        
        .feature-card:active { transform: scale(0.96); background: var(--surface-elevated); }
        .feature-card.active { background: rgba(255,215,0,0.15); border-color: rgba(255,215,0,0.3); }
        
        .feature-icon {
            width: 56px; height: 56px; border-radius: 16px;
            display: flex; align-items: center; justify-content: center; font-size: 28px;
            margin-bottom: 12px;
        }
        
        .bg-blue { background: rgba(10,132,255,0.2); }
        .bg-green { background: rgba(48,209,88,0.2); }
        .bg-purple { background: rgba(175,82,222,0.2); }
        .bg-orange { background: rgba(255,159,10,0.2); }
        .bg-red { background: rgba(255,69,58,0.2); }
        .bg-teal { background: rgba(48,176,199,0.2); }
        
        .feature-title { font-size: 16px; font-weight: 700; margin-bottom: 4px; }
        .feature-desc { font-size: 13px; color: var(--text-secondary); }
        
        .feature-badge {
            position: absolute; top: 12px; right: 12px;
            width: 8px; height: 8px; border-radius: 50%; background: var(--gold);
            box-shadow: 0 0 10px var(--gold); opacity: 0; transition: opacity 0.3s;
        }
        
        .feature-card.active .feature-badge { opacity: 1; }
        
        /* Section Headers */
        .section-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 16px; margin-bottom: 12px;
        }
        
        .section-title { font-size: 20px; font-weight: 700; }
        .section-action { color: var(--gold); font-size: 15px; font-weight: 600; }
        
        /* Activity Feed */
        .feed-container { padding: 0 16px; margin-bottom: 100px; }
        
        .feed-card {
            background: var(--surface); border-radius: 16px; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.05);
        }
        
        .feed-item {
            display: flex; align-items: center; gap: 16px; padding: 18px 16px;
            border-bottom: 0.5px solid rgba(255,255,255,0.05);
            cursor: pointer; transition: background 0.2s;
        }
        
        .feed-item:last-child { border-bottom: none; }
        .feed-item:active { background: var(--surface-elevated); }
        
        .feed-icon {
            width: 44px; height: 44px; border-radius: 12px;
            display: flex; align-items: center; justify-content: center; font-size: 20px;
            flex-shrink: 0;
        }
        
        .feed-content { flex: 1; min-width: 0; }
        .feed-title { font-weight: 600; font-size: 16px; margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .feed-meta { font-size: 14px; color: var(--text-secondary); }
        
        .feed-status {
            font-size: 12px; font-weight: 700; padding: 6px 12px; border-radius: 12px;
            text-transform: uppercase; letter-spacing: 0.3px; flex-shrink: 0;
        }
        
        .status-safe { background: rgba(48,209,88,0.2); color: var(--success); }
        .status-danger { background: rgba(255,69,58,0.2); color: var(--danger); }
        .status-warn { background: rgba(255,159,10,0.2); color: var(--warning); }
        
        /* Floating Action Button (Center) */
        .fab-container {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: linear-gradient(to top, rgba(0,0,0,1), rgba(0,0,0,0.8));
            padding: 12px 0 calc(12px + env(safe-area-inset-bottom));
            z-index: 1000;
            border-top: 0.5px solid rgba(255,255,255,0.1);
        }
        
        .fab-inner {
            max-width: 400px; margin: 0 auto; display: flex; justify-content: space-around; align-items: center;
        }
        
        .nav-btn {
            background: none; border: none; color: var(--text-secondary);
            display: flex; flex-direction: column; align-items: center; gap: 4px;
            font-size: 11px; font-weight: 600; padding: 8px 20px; cursor: pointer;
            transition: all 0.2s; position: relative;
        }
        
        .nav-btn.active { color: var(--gold); transform: translateY(-2px); }
        
        .nav-icon { font-size: 24px; line-height: 1; }
        
        .nav-btn-main {
            background: var(--gold); color: black; width: 56px; height: 56px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            margin-top: -28px; box-shadow: 0 4px 20px rgba(255,215,0,0.4);
            font-size: 24px; border: 4px solid var(--black);
        }
        
        /* Modals */
        .modal {
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            z-index: 2000; flex-direction: column; animation: slideUp 0.3s;
        }
        
        .modal.show { display: flex; }
        
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        
        .modal-header {
            padding: 16px; display: flex; align-items: center; gap: 12px;
            border-bottom: 0.5px solid rgba(255,255,255,0.1);
        }
        
        .back-btn {
            width: 36px; height: 36px; border-radius: 50%; background: var(--surface);
            border: none; color: white; font-size: 20px; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        
        .modal-content { flex: 1; overflow-y: auto; padding: 20px; }
        
        /* Scan View */
        .scan-frame {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px;
        }
        
        .camera-box {
            width: 280px; height: 280px; border: 3px solid var(--gold); border-radius: 24px;
            overflow: hidden; position: relative; box-shadow: 0 0 40px rgba(255,215,0,0.2);
        }
        
        .scan-line {
            position: absolute; width: 100%; height: 3px; background: var(--gold);
            box-shadow: 0 0 10px var(--gold); animation: scanMove 2s linear infinite;
        }
        
        @keyframes scanMove { 0% { top: 0; } 100% { top: 100%; } }
        
        .scan-overlay {
            position: absolute; inset: 0; background: rgba(0,0,0,0.95);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        
        .scan-overlay.show { opacity: 1; pointer-events: all; }
        
        .result-circle {
            width: 80px; height: 80px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 40px;
            margin-bottom: 16px; animation: scaleIn 0.3s;
        }
        
        @keyframes scaleIn { from { transform: scale(0); } to { transform: scale(1); } }
        
        /* Detail View */
        .detail-hero { text-align: center; padding: 40px 20px; }
        .detail-icon-large { font-size: 64px; margin-bottom: 16px; }
        .detail-title { font-size: 28px; font-weight: 800; margin-bottom: 8px; }
        .detail-subtitle { color: var(--text-secondary); font-size: 17px; }
        
        .detail-grid {
            display: grid; gap: 12px; margin-bottom: 24px;
        }
        
        .detail-row {
            background: var(--surface); padding: 18px; border-radius: 12px;
            display: flex; justify-content: space-between; align-items: center;
        }
        
        .detail-label { color: var(--text-secondary); font-size: 15px; }
        .detail-value { font-weight: 700; font-size: 15px; font-family: monospace; }
        
        .btn-full {
            width: 100%; padding: 18px; background: var(--gold); color: black;
            border: none; border-radius: 14px; font-size: 17px; font-weight: 700;
            margin-top: 8px; cursor: pointer;
        }
        
        .btn-full:active { opacity: 0.9; transform: scale(0.98); }
        
        /* Toggle Switch */
        .toggle-row {
            display: flex; justify-content: space-between; align-items: center;
            background: var(--surface); padding: 20px; border-radius: 16px; margin-bottom: 12px;
        }
        
        .toggle-text { font-weight: 600; margin-bottom: 4px; }
        .toggle-sub { font-size: 14px; color: var(--text-secondary); }
        
        .toggle {
            width: 52px; height: 32px; background: rgba(255,255,255,0.2);
            border-radius: 16px; position: relative; cursor: pointer; transition: 0.3s;
        }
        
        .toggle.on { background: var(--success); }
        
        .toggle-knob {
            position: absolute; top: 2px; left: 2px; width: 28px; height: 28px;
            background: white; border-radius: 50%; transition: transform 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .toggle.on .toggle-knob { transform: translateX(20px); }
        
        /* Toast */
        .toast {
            position: fixed; top: 60px; left: 50%; transform: translateX(-50%) translateY(-100px);
            background: var(--surface); color: var(--gold); padding: 14px 28px;
            border-radius: 24px; border: 1px solid rgba(255,215,0,0.3);
            font-weight: 700; z-index: 3000; opacity: 0; transition: all 0.3s;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        
        /* New: Floating Widgets */
        .threat-banner {
            background: linear-gradient(90deg, rgba(255,69,58,0.2), rgba(255,69,58,0.05));
            border-left: 3px solid var(--danger);
            padding: 16px; margin: 0 16px 16px; border-radius: 12px;
            display: flex; align-items: center; gap: 12px;
        }
        
        .threat-icon { font-size: 24px; }
        .threat-text { flex: 1; }
        .threat-title { font-weight: 700; margin-bottom: 2px; }
        .threat-sub { font-size: 13px; color: var(--text-secondary); }
    </style>
</head>
<body>
    <div class="app-container">
        
        <!-- HOME VIEW -->
        <div id="homeView" class="view active">
            <header class="app-header safe-top">
                <div class="brand">‚óä Mobile<span>Objex</span></div>
                <div class="live-indicator"><div class="pulse-dot"></div>Protected</div>
            </header>
            
            <div class="hero-card">
                <div class="score-circle">
                    <div class="score-bg">
                        <div class="score-inner">
                            <div class="score-num" id="scoreDisplay">98</div>
                        </div>
                    </div>
                </div>
                <div class="hero-title">Security Active</div>
                <div class="hero-sub">AI verification scanning all messages</div>
            </div>
            
            <!-- Live Threat Banner (New Feature) -->
            <div class="threat-banner" id="threatBanner" onclick="showThreatDetails()" style="display: none;">
                <div class="threat-icon">‚ö†Ô∏è</div>
                <div class="threat-text">
                    <div class="threat-title">Scam Wave Detected</div>
                    <div class="threat-sub">Fake delivery SMS in your area</div>
                </div>
                <span style="color: var(--danger);">‚Üí</span>
            </div>
            
            <div class="stats-scroll">
                <div class="stat-pill">
                    <div class="stat-value">2.4k</div>
                    <div class="stat-label">Safe</div>
                </div>
                <div class="stat-pill">
                    <div class="stat-value" style="color: var(--danger);">23</div>
                    <div class="stat-label">Blocked</div>
                </div>
                <div class="stat-pill">
                    <div class="stat-value" style="color: var(--info);">12k+</div>
                    <div class="stat-label">Co-op</div>
                </div>
                <div class="stat-pill">
                    <div class="stat-value" style="color: var(--warning);">5</div>
                    <div class="stat-label">Family</div>
                </div>
            </div>
            
            <div class="section-header">
                <div class="section-title">Quick Actions</div>
            </div>
            
            <div class="feature-grid">
                <div class="feature-card" onclick="openScan()">
                    <div class="feature-badge"></div>
                    <div class="feature-icon bg-blue">üì∑</div>
                    <div class="feature-title">Scan Code</div>
                    <div class="feature-desc">Verify QR</div>
                </div>
                
                <div class="feature-card" id="vpnCard" onclick="toggleVPN(this)">
                    <div class="feature-badge"></div>
                    <div class="feature-icon bg-green">üîí</div>
                    <div class="feature-title">Secure VPN</div>
                    <div class="feature-desc" id="vpnStatus">Tap to connect</div>
                </div>
                
                <div class="feature-card" onclick="showFeature('darkweb')">
                    <div class="feature-icon bg-red">üîç</div>
                    <div class="feature-title">Dark Web</div>
                    <div class="feature-desc">Leak scan</div>
                </div>
                
                <div class="feature-card" onclick="showFeature('identity')">
                    <div class="feature-icon bg-purple">üõ°Ô∏è</div>
                    <div class="feature-title">Identity</div>
                    <div class="feature-desc">SSN Monitor</div>
                </div>
                
                <div class="feature-card" onclick="showFeature('family')">
                    <div class="feature-icon bg-teal">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                    <div class="feature-title">Family</div>
                    <div class="feature-desc">5 protected</div>
                </div>
                
                <div class="feature-card" onclick="showFeature('vault')">
                    <div class="feature-icon bg-orange">üóùÔ∏è</div>
                    <div class="feature-title">Vault</div>
                    <div class="feature-desc">12 passwords</div>
                </div>
            </div>
            
            <div class="section-header">
                <div class="section-title">Protection Log</div>
                <div class="section-action" onclick="clearFeed()">Clear</div>
            </div>
            
            <div class="feed-container">
                <div class="feed-card" id="feedList">
                    <div class="feed-item" onclick="showDetail('chase')">
                        <div class="feed-icon bg-green" style="color: var(--success);">‚úì</div>
                        <div class="feed-content">
                            <div class="feed-title">Chase Fraud Alert</div>
                            <div class="feed-meta">Legitimate ‚Ä¢ Card ‚Ä¢ 2m ago</div>
                        </div>
                        <div class="feed-status status-safe">Safe</div>
                    </div>
                    
                    <div class="feed-item" onclick="showDetail('irs')">
                        <div class="feed-icon bg-red" style="color: var(--danger);">‚úï</div>
                        <div class="feed-content">
                            <div class="feed-title">IRS Scam Blocked</div>
                            <div class="feed-meta">Phishing SMS ‚Ä¢ Auto-blocked</div>
                        </div>
                        <div class="feed-status status-danger">Blocked</div>
                    </div>
                    
                    <div class="feed-item" onclick="showDetail('delivery')">
                        <div class="feed-icon bg-orange" style="color: var(--warning);">!</div>
                        <div class="feed-content">
                            <div class="feed-title">USPS Delivery</div>
                            <div class="feed-meta">Verify tracking # ‚Ä¢ 3h ago</div>
                        </div>
                        <div class="feed-status status-warn">Check</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- BOTTOM NAV -->
        <div class="fab-container">
            <div class="fab-inner">
                <button class="nav-btn active" onclick="switchTab('home')">
                    <span class="nav-icon">üõ°Ô∏è</span>
                    <span>Protect</span>
                </button>
                
                <button class="nav-btn nav-btn-main" onclick="openScan()">
                    <span style="font-size: 28px;">üì∑</span>
                </button>
                
                <button class="nav-btn" onclick="showSettings()">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span>Settings</span>
                </button>
            </div>
        </div>
        
        <!-- SCAN MODAL -->
        <div id="scanModal" class="modal">
            <div class="modal-header">
                <button class="back-btn" onclick="closeScan()">‚Üê</button>
                <h3 style="font-weight: 700; flex: 1; text-align: center;">Scan Safety Mark</h3>
                <div style="width: 36px;"></div>
            </div>
            <div class="scan-frame">
                <div class="camera-box">
                    <div class="scan-line"></div>
                    <div class="scan-overlay" id="scanResult">
                        <div class="result-circle" id="resultIcon" style="background: rgba(48,209,88,0.2); color: var(--success);">‚úì</div>
                        <h3 style="font-size: 24px; font-weight: 800; margin-bottom: 8px;" id="resultTitle">Verified Safe</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 24px;" id="resultDesc">Cryptographically signed by Chase Bank</p>
                        <button class="btn-full" onclick="closeScan()" style="max-width: 200px;">Done</button>
                    </div>
                </div>
                <p style="color: var(--text-secondary); margin-top: 32px;">Align QR code within frame</p>
            </div>
        </div>
        
        <!-- DETAIL MODAL -->
        <div id="detailModal" class="modal">
            <div class="modal-header">
                <button class="back-btn" onclick="closeDetail()">‚Üê</button>
                <h3 style="font-weight: 700; flex: 1; text-align: center;">Message Details</h3>
                <div style="width: 36px;"></div>
            </div>
            <div class="modal-content" id="detailBody">
                <!-- Dynamic -->
            </div>
        </div>
        
        <!-- SETTINGS MODAL -->
        <div id="settingsModal" class="modal">
            <div class="modal-header">
                <button class="back-btn" onclick="closeSettings()">‚Üê</button>
                <h3 style="font-weight: 700; flex: 1; text-align: center;">Settings</h3>
                <div style="width: 36px;"></div>
            </div>
            <div class="modal-content">
                <div class="toggle-row">
                    <div>
                        <div class="toggle-text">Auto-Scan Messages</div>
                        <div class="toggle-sub">Check all incoming SMS</div>
                    </div>
                    <div class="toggle on" onclick="this.classList.toggle('on')"><div class="toggle-knob"></div></div>
                </div>
                <div class="toggle-row">
                    <div>
                        <div class="toggle-text">Co-op Sharing</div>
                        <div class="toggle-sub">Anonymized threat data</div>
                    </div>
                    <div class="toggle on" onclick="this.classList.toggle('on')"><div class="toggle-knob"></div></div>
                </div>
                <div class="toggle-row">
                    <div>
                        <div class="toggle-text">Family Alerts</div>
                        <div class="toggle-sub">Notify when family threatened</div>
                    </div>
                    <div class="toggle on" onclick="this.classList.toggle('on')"><div class="toggle-knob"></div></div>
                </div>
                
                <button class="btn-full" onclick="logout()" style="background: rgba(255,69,58,0.2); color: var(--danger); margin-top: 32px;">Sign Out</button>
            </div>
        </div>
        
    </div>
    
    <div class="toast" id="toast"></div>
    
    <script>
        let vpnEnabled = false;
        let currentThreats = 1;
        
        // Show threat banner after 2 seconds
        setTimeout(() => {
            document.getElementById('threatBanner').style.display = 'flex';
        }, 2000);
        
        function toggleVPN(card) {
            vpnEnabled = !vpnEnabled;
            const badge = card.querySelector('.feature-badge');
            const status = document.getElementById('vpnStatus');
            
            if (vpnEnabled) {
                card.classList.add('active');
                status.textContent = 'Connected ‚Ä¢ 45ms';
                showToast('üîí Secure VPN Active');
            } else {
                card.classList.remove('active');
                status.textContent = 'Tap to connect';
                showToast('VPN Disconnected');
            }
        }
        
        function openScan() {
            document.getElementById('scanModal').classList.add('show');
            document.getElementById('scanResult').classList.remove('show');
            
            // Simulate scan
            setTimeout(() => {
                const isSafe = Math.random() > 0.3;
                const result = document.getElementById('scanResult');
                const icon = document.getElementById('resultIcon');
                const title = document.getElementById('resultTitle');
                const desc = document.getElementById('resultDesc');
                
                if (isSafe) {
                    icon.style.background = 'rgba(48,209,88,0.2)';
                    icon.style.color = 'var(--success)';
                    icon.textContent = '‚úì';
                    title.textContent = 'Verified Safe';
                    desc.textContent = 'Chase Bank ‚Ä¢ Cryptographically signed';
                } else {
                    icon.style.background = 'rgba(255,69,58,0.2)';
                    icon.style.color = 'var(--danger)';
                    icon.textContent = '‚úï';
                    title.textContent = 'Threat Detected';
                    desc.textContent = 'No MO Safety Mark found';
                }
                result.classList.add('show');
            }, 1500);
        }
        
        function closeScan() {
            document.getElementById('scanModal').classList.remove('show');
        }
        
        function showDetail(type) {
            const modal = document.getElementById('detailModal');
            const body = document.getElementById('detailBody');
            
            const data = {
                chase: {
                    icon: '‚úì', color: 'var(--success)', bg: 'rgba(48,209,88,0.2)',
                    title: 'Chase Fraud Alert', status: 'VERIFIED SAFE',
                    meta: 'Transaction authorized', time: '2 minutes ago',
                    details: 'Face ID confirmed ‚Ä¢ Card ending 4582 ‚Ä¢ New York, NY',
                    hash: '0x8f3d...2a9b'
                },
                irs: {
                    icon: '‚úï', color: 'var(--danger)', bg: 'rgba(255,69,58,0.2)',
                    title: 'IRS Scam Blocked', status: 'FRAUD BLOCKED',
                    meta: 'Phishing attempt', time: '1 hour ago',
                    details: 'Requested gift cards ‚Ä¢ Threatened arrest ‚Ä¢ Number reported 234x',
                    hash: '0x9e2c...1f4d'
                },
                delivery: {
                    icon: '!', color: 'var(--warning)', bg: 'rgba(255,159,10,0.2)',
                    title: 'USPS Delivery', status: 'MANUAL REVIEW',
                    meta: 'Tracking verification', time: '3 hours ago',
                    details: 'Valid format but unverified origin ‚Ä¢ Cross-check recommended',
                    hash: '0x7a1b...9e3c'
                }
            };
            
            const d = data[type];
            body.innerHTML = `
                <div class="detail-hero">
                    <div class="detail-icon-large" style="color: ${d.color};">${d.icon}</div>
                    <div class="detail-title" style="color: ${d.color};">${d.title}</div>
                    <div class="detail-subtitle">${d.meta} ‚Ä¢ ${d.time}</div>
                </div>
                <div class="detail-grid">
                    <div class="detail-row">
                        <span class="detail-label">Status</span>
                        <span class="detail-value" style="color: ${d.color};">${d.status}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Verification ID</span>
                        <span class="detail-value" style="font-size: 13px;">${d.hash}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Consensus</span>
                        <span class="detail-value">12,400 nodes</span>
                    </div>
                </div>
                <div style="background: var(--surface); padding: 20px; border-radius: 16px; margin-bottom: 24px;">
                    <div style="color: var(--text-secondary); font-size: 13px; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 0.5px;">Analysis</div>
                    <div style="line-height: 1.5;">${d.details}</div>
                </div>
                <button class="btn-full" onclick="closeDetail()">Close</button>
            `;
            modal.classList.add('show');
        }
        
        function closeDetail() {
            document.getElementById('detailModal').classList.remove('show');
        }
        
        function showFeature(type) {
            if (type === 'darkweb') {
                showToast('üîç Scanning dark web databases...');
                setTimeout(() => showToast('‚úì No leaks found for your email'), 1500);
            } else if (type === 'identity') {
                showToast('üõ°Ô∏è Identity monitoring active');
            } else if (type === 'family') {
                showDetail('family');
            } else if (type === 'vault') {
                showToast('üîê Secure vault unlocked');
            }
        }
        
        function showThreatDetails() {
            showDetail('irs');
            document.getElementById('threatBanner').style.display = 'none';
        }
        
        function showSettings() {
            document.getElementById('settingsModal').classList.add('show');
        }
        
        function closeSettings() {
            document.getElementById('settingsModal').classList.remove('show');
        }
        
        function clearFeed() {
            document.getElementById('feedList').innerHTML = '<div style="padding: 40px; text-align: center; color: var(--text-secondary);">No recent activity</div>';
            showToast('Log cleared');
        }
        
        function switchTab(tab) {
            // Already on home
            window.scrollTo(0, 0);
        }
        
        function logout() {
            closeSettings();
            showToast('Signed out');
            setTimeout(() => location.reload(), 1000);
        }
        
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2500);
        }
    </script>
</body>
</html>
